module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},42343,a=>{"use strict";var b=a.i(72131),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=b.default.createContext&&b.default.createContext(c),e=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a){return c=>b.default.createElement(j,f({attr:h({},a.attr)},c),function a(c){return c&&c.map((c,d)=>b.default.createElement(c.tag,h({key:d},c.attr),a(c.child)))}(a.child))}function j(a){var g=c=>{var d,{attr:g,size:i,title:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,e),l=i||c.size||"1em";return c.className&&(d=c.className),a.className&&(d=(d?d+" ":"")+a.className),b.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,g,k,{className:d,style:h(h({color:a.color||c.color},c.style),a.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),j&&b.default.createElement("title",null,j),a.children)};return void 0!==d?b.default.createElement(d.Consumer,null,a=>g(a)):g(c)}a.s(["GenIcon",()=>i],42343)},49496,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(25940),f=a.i(47410),g=a.i(70106);let h=(0,g.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),i=(0,g.default)("dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),j=(0,g.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var k=a.i(45222);let l=(0,g.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),m=(0,g.default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),n=(0,g.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var o=a.i(23312);let p=({type:a})=>{let c={like:{icon:(0,b.jsx)(j,{size:12,className:"text-white fill-white"}),bgColor:"bg-gradient-to-br from-red-500 to-pink-500"},comment:{icon:(0,b.jsx)(k.MessageCircle,{size:12,className:"text-white"}),bgColor:"bg-gradient-to-br from-blue-500 to-indigo-500"},follow:{icon:(0,b.jsx)(l,{size:12,className:"text-white"}),bgColor:"bg-gradient-to-br from-green-500 to-emerald-500"},mention:{icon:(0,b.jsx)(m,{size:12,className:"text-white"}),bgColor:"bg-gradient-to-br from-purple-500 to-violet-500"},message:{icon:(0,b.jsx)(k.MessageCircle,{size:12,className:"text-white fill-white"}),bgColor:"bg-gradient-to-br from-sky-500 to-blue-500"},share:{icon:(0,b.jsx)(n,{size:12,className:"text-white"}),bgColor:"bg-gradient-to-br from-orange-500 to-amber-500"},default:{icon:(0,b.jsx)(o.Bell,{size:12,className:"text-white"}),bgColor:"bg-gradient-to-br from-gray-500 to-gray-600"}},d=c[a]||c.default;return(0,b.jsx)("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${d.bgColor} shadow-sm border-2 border-white`,children:d.icon})},q=({notification:a,onMarkRead:c,onClick:d})=>{let{id:e,senderFirstName:f,senderLastName:g,senderImageUrl:j,content:k,createdDate:l,createdAt:m,type:n,seen:o}=a,q=`${f||""} ${g||""}`.trim()||"Someone";return(0,b.jsxs)("div",{onClick:()=>d(a),className:`group flex items-center p-4 hover:bg-sky-50/50 transition-all duration-200 cursor-pointer border-l-4 rounded-r-xl ${o?"border-l-transparent bg-white":"border-l-sky-500 bg-sky-50/30"}`,children:[(0,b.jsxs)("div",{className:"relative mr-4 flex-shrink-0",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:`absolute inset-0 rounded-full blur-sm transition-opacity ${!o?"bg-gradient-to-br from-sky-400 to-blue-500 opacity-20":"opacity-0"}`}),(0,b.jsx)("img",{src:j||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:q,className:"relative w-12 h-12 rounded-full object-cover border-2 border-white shadow-md"})]}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,b.jsx)(p,{type:n||"default"})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-900 leading-relaxed",children:[(0,b.jsx)("span",{className:"font-semibold hover:text-sky-600 transition-colors",children:q}),(0,b.jsx)("span",{className:"font-normal text-gray-600 ml-1",children:k})]}),(0,b.jsx)("p",{className:"text-xs text-sky-600 font-medium mt-1.5",children:(a=>{if(!a)return"";let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/1e3);return c<60?"Just now":c<3600?`${Math.floor(c/60)}m ago`:c<86400?`${Math.floor(c/3600)}h ago`:c<604800?`${Math.floor(c/86400)}d ago`:b.toLocaleDateString()})(l||m)})]}),(0,b.jsxs)("div",{className:"ml-4 flex items-center gap-2 flex-shrink-0",children:["follow"===n&&(0,b.jsx)("button",{className:"bg-gradient-to-r from-sky-400 to-blue-500 hover:from-sky-500 hover:to-blue-600 text-white text-xs px-4 py-2 rounded-xl font-semibold transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",children:"Follow"}),"message"===n&&(0,b.jsx)("button",{className:"bg-gradient-to-r from-sky-400 to-blue-500 hover:from-sky-500 hover:to-blue-600 text-white text-xs px-4 py-2 rounded-xl font-semibold transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",children:"Reply"}),(0,b.jsx)("button",{className:"p-1.5 hover:bg-sky-100 rounded-full transition-colors opacity-0 group-hover:opacity-100",children:(0,b.jsx)(h,{size:18,className:"text-gray-600"})})]})]}),!o&&(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),c(e)},className:"mt-2 flex items-center text-xs text-sky-600 hover:text-sky-700 font-semibold transition-colors",children:[(0,b.jsx)(i,{size:18,className:"text-sky-500 animate-pulse"}),"Mark as read"]})]})]})};var r=a.i(36121);let s=async a=>{try{return(await r.default.get(`/notification/${a}`)).data.result||[]}catch{return[]}},t=async a=>(await r.default.put(`/notification/markAsRead/${a}`,{})).data,u=async()=>(await r.default.put("/notification/markAllAsRead",{})).data;var v=a.i(6704);function w(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),n=(0,d.useRouter)();(0,c.useEffect)(()=>{},[n]),(0,c.useEffect)(()=>{},[]);let o=(0,c.useCallback)(async()=>{let a=(0,e.getUserId)();if(a)try{i(!0);let b=(await s(a)||[]).sort((a,b)=>{let c=a.createdDate?new Date(a.createdDate).getTime():0;return(b.createdDate?new Date(b.createdDate).getTime():0)-c});g(b)}catch(a){console.error("Error fetching notifications:",a)}finally{i(!1)}},[]);(0,c.useEffect)(()=>{(0,e.getToken)()&&o()},[o]);let p=async a=>{try{await t(a),g(b=>b.map(b=>b.id===a?{...b,seen:!0}:b))}catch(a){console.error("Error marking as read:",a)}},r=async()=>{try{await u(),g(a=>a.map(a=>({...a,seen:!0}))),v.default.success("All notifications marked as read")}catch(a){console.error("Error marking all as read:",a),v.default.error("Could not mark notifications as read")}},w=a=>{p(a.id),a.postId&&n.push(`/post/${a.postId}`)},x=a.filter(a=>!a.seen).length;return(0,b.jsxs)("div",{className:"flex min-h-screen",children:[j&&(0,b.jsx)("button",{onClick:()=>m(!l),className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md border md:hidden","aria-label":"Toggle menu",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l?(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),j&&l&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>m(!1)}),(0,b.jsx)("div",{className:"hidden md:block w-[240px] h-screen bg-white border-r flex-shrink-0",children:(0,b.jsx)(f.SidebarComponent,{})}),(0,b.jsx)("div",{className:`
                    md:hidden fixed top-0 left-0 w-64 h-screen bg-white border-r z-50
                    transition-transform duration-300 ease-in-out
                    ${l?"translate-x-0":"-translate-x-full"}
                `,children:(0,b.jsx)(f.SidebarComponent,{})}),(0,b.jsx)("div",{className:`flex-1 min-h-screen w-full max-w-full overflow-x-hidden ${j?"pt-16 px-4":"pl-3"}`,children:(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications"}),x>0&&(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[x," unread"]})]}),x>0&&(0,b.jsx)("button",{onClick:r,className:"text-sm text-sky-600 hover:text-sky-700 font-medium",children:"Mark all as read"})]}),(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:h?(0,b.jsx)("div",{className:"divide-y divide-gray-100",children:Array.from({length:5}).map((a,c)=>(0,b.jsx)("div",{className:"p-4 animate-pulse",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})]})},c))}):a.length>0?(0,b.jsx)("div",{className:"divide-y divide-gray-100",children:a.map(a=>(0,b.jsx)(q,{notification:a,onMarkRead:p,onClick:w},a.id))}):(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-sky-100 to-blue-100 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-12 h-12 text-sky-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.054-.595 1.435L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No notifications"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"You're all caught up!"})]})})]})})})]})}a.s(["default",()=>w],49496)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f9b5342d._.js.map