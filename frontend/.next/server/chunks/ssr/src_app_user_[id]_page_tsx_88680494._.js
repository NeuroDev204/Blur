module.exports=[83413,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(47410),e=a.i(39895),f=a.i(42343);function g(a){return(0,f.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 5.589 2 10c0 2.908 1.898 5.516 5 6.934V22l5.34-4.005C17.697 17.852 22 14.32 22 10c0-4.411-4.486-8-10-8zm0 14h-.333L9 18v-2.417l-.641-.247C5.67 14.301 4 12.256 4 10c0-3.309 3.589-6 8-6s8 2.691 8 6-3.589 6-8 6z"},child:[]}]})(a)}var h=a.i(50944),i=a.i(25940),j=a.i(43678),k=a.i(63135),l=a.i(33441);let m=()=>{let a=(0,h.useRouter)(),d=(0,h.useSearchParams)(),[f,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),B=d.get("profileId");(0,c.useEffect)(()=>{(async()=>{if((0,i.getToken)()&&B)try{w(!0);let a=await (0,j.fetchUserInfo)();A(a);let b=await (0,j.fetchUserProfileById)(B);if(o(b),b?.id){let[c,d]=await Promise.all([(0,j.getFollowers)(b.id),(0,j.getFollowings)(b.id)]);q(c||[]),s(d||[]);let e=c?.some(b=>b.id===a?.id);u(e||!1)}let c=await (0,k.getPostsByUserId)(b?.userId||B);m(c||[])}catch(a){console.error("Error fetching data:",a)}finally{w(!1)}})()},[B]);let C=async()=>{if(z&&n)try{y(!0),t?(await (0,j.unfollowUser)(n.id),q(a=>a.filter(a=>a.id!==z.id))):(await (0,j.followUser)(n.id),q(a=>[...a,z])),u(!t)}catch(a){console.error("Error toggling follow status:",a)}finally{y(!1)}},D=z?.id===n?.id;return v?(0,b.jsx)("div",{className:"py-10 px-4",children:(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 animate-pulse",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,b.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-sky-100 to-blue-100"}),(0,b.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded-lg w-48"}),(0,b.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-64"}),(0,b.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-32"})]})]})})}):(0,b.jsxs)("div",{className:"py-10 px-4",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 mb-6 hover:shadow-md transition-shadow duration-300",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400 to-blue-500 rounded-full blur-md opacity-20 group-hover:opacity-30 transition-opacity"}),(0,b.jsx)("img",{className:"relative w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg",src:n?.imageUrl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:"Profile"})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-5 text-center md:text-left w-full",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start gap-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:n?.firstName||n?.username||"User"}),!D&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:C,disabled:x,className:`px-6 py-2 rounded-xl font-semibold transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 active:scale-95 disabled:opacity-50 ${t?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gradient-to-r from-sky-400 to-blue-500 text-white hover:from-sky-500 hover:to-blue-600"}`,children:x?"...":t?"Following":"Follow"}),(0,b.jsx)("button",{onClick:()=>{a.push("/message")},className:"p-3 rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors",children:(0,b.jsx)(g,{className:"w-5 h-5 text-gray-600"})})]}),(0,b.jsx)("button",{className:"w-10 h-10 rounded-xl bg-gray-100 hover:bg-sky-50 flex items-center justify-center transition-colors",children:(0,b.jsx)(e.LuCircleDashed,{className:"w-5 h-5 text-gray-600 hover:text-sky-600"})})]}),(0,b.jsxs)("div",{className:"flex justify-center md:justify-start gap-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold bg-gradient-to-r from-sky-600 to-blue-600 bg-clip-text text-transparent",children:f.length}),(0,b.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Posts"})]}),(0,b.jsxs)("div",{className:"text-center cursor-pointer group",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-800 group-hover:text-sky-600 transition-colors",children:p.length}),(0,b.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Followers"})]}),(0,b.jsxs)("div",{className:"text-center cursor-pointer group",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-800 group-hover:text-sky-600 transition-colors",children:r.length}),(0,b.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Following"})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("p",{className:"font-bold text-gray-800",children:[n?.firstName," ",n?.lastName]}),n?.bio?(0,b.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed max-w-md",children:n.bio}):(0,b.jsx)("p",{className:"text-gray-400 text-sm italic",children:"No bio"})]})]})]})}),(0,b.jsx)(l.default,{posts:f,isLoading:v})]})};function n(){return(0,b.jsx)("div",{className:"py-10 px-4",children:(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 animate-pulse",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,b.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-sky-100 to-blue-100"}),(0,b.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded-lg w-48"}),(0,b.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-64"}),(0,b.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-32"})]})]})})})}function o(){return(0,b.jsxs)("div",{className:"flex min-h-screen",children:[(0,b.jsx)("div",{className:"hidden md:block w-[240px] h-screen bg-white border-r flex-shrink-0",children:(0,b.jsx)(d.SidebarComponent,{})}),(0,b.jsx)("div",{className:"flex-1 min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(n,{}),children:(0,b.jsx)(m,{})})})})]})}a.s(["default",()=>o],83413)}];

//# sourceMappingURL=src_app_user_%5Bid%5D_page_tsx_88680494._.js.map