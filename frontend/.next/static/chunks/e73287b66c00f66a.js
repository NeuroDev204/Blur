(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88475,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(57339),a=e.i(53070),l=e.i(40141);function i(e){return(0,l.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 5.589 2 10c0 2.908 1.898 5.516 5 6.934V22l5.34-4.005C17.697 17.852 22 14.32 22 10c0-4.411-4.486-8-10-8zm0 14h-.333L9 18v-2.417l-.641-.247C5.67 14.301 4 12.256 4 10c0-3.309 3.589-6 8-6s8 2.691 8 6-3.589 6-8 6z"},child:[]}]})(e)}var o=e.i(18566),d=e.i(42094),c=e.i(9505),n=e.i(27262),x=e.i(87516);let m=()=>{let e=(0,o.useRouter)(),r=(0,o.useSearchParams)(),[l,m]=(0,t.useState)([]),[h,g]=(0,t.useState)(null),[u,f]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[j,v]=(0,t.useState)(!1),[p,w]=(0,t.useState)(!0),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null),U=r.get("profileId");(0,t.useEffect)(()=>{(async()=>{if((0,d.getToken)()&&U)try{w(!0);let e=await (0,c.fetchUserInfo)();C(e);let s=await (0,c.fetchUserProfileById)(U);if(g(s),s?.id){let[t,r]=await Promise.all([(0,c.getFollowers)(s.id),(0,c.getFollowings)(s.id)]);f(t||[]),y(r||[]);let a=t?.some(s=>s.id===e?.id);v(a||!1)}let t=await (0,n.getPostsByUserId)(s?.userId||U);m(t||[])}catch(e){console.error("Error fetching data:",e)}finally{w(!1)}})()},[U]);let P=async()=>{if(S&&h)try{k(!0),j?(await (0,c.unfollowUser)(h.id),f(e=>e.filter(e=>e.id!==S.id))):(await (0,c.followUser)(h.id),f(e=>[...e,S])),v(!j)}catch(e){console.error("Error toggling follow status:",e)}finally{k(!1)}},F=S?.id===h?.id;return p?(0,s.jsx)("div",{className:"py-10 px-4",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 animate-pulse",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,s.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-sky-100 to-blue-100"}),(0,s.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded-lg w-48"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-64"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-32"})]})]})})}):(0,s.jsxs)("div",{className:"py-10 px-4",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 mb-6 hover:shadow-md transition-shadow duration-300",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400 to-blue-500 rounded-full blur-md opacity-20 group-hover:opacity-30 transition-opacity"}),(0,s.jsx)("img",{className:"relative w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg",src:h?.imageUrl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:"Profile"})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-5 text-center md:text-left w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start gap-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:h?.firstName||h?.username||"User"}),!F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:P,disabled:N,className:`px-6 py-2 rounded-xl font-semibold transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 active:scale-95 disabled:opacity-50 ${j?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gradient-to-r from-sky-400 to-blue-500 text-white hover:from-sky-500 hover:to-blue-600"}`,children:N?"...":j?"Following":"Follow"}),(0,s.jsx)("button",{onClick:()=>{e.push("/message")},className:"p-3 rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors",children:(0,s.jsx)(i,{className:"w-5 h-5 text-gray-600"})})]}),(0,s.jsx)("button",{className:"w-10 h-10 rounded-xl bg-gray-100 hover:bg-sky-50 flex items-center justify-center transition-colors",children:(0,s.jsx)(a.LuCircleDashed,{className:"w-5 h-5 text-gray-600 hover:text-sky-600"})})]}),(0,s.jsxs)("div",{className:"flex justify-center md:justify-start gap-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold bg-gradient-to-r from-sky-600 to-blue-600 bg-clip-text text-transparent",children:l.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Posts"})]}),(0,s.jsxs)("div",{className:"text-center cursor-pointer group",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-800 group-hover:text-sky-600 transition-colors",children:u.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Followers"})]}),(0,s.jsxs)("div",{className:"text-center cursor-pointer group",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-800 group-hover:text-sky-600 transition-colors",children:b.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:"Following"})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"font-bold text-gray-800",children:[h?.firstName," ",h?.lastName]}),h?.bio?(0,s.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed max-w-md",children:h.bio}):(0,s.jsx)("p",{className:"text-gray-400 text-sm italic",children:"No bio"})]})]})]})}),(0,s.jsx)(x.default,{posts:l,isLoading:p})]})};function h(){return(0,s.jsx)("div",{className:"py-10 px-4",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 animate-pulse",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,s.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-sky-100 to-blue-100"}),(0,s.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded-lg w-48"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-64"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded-lg w-32"})]})]})})})}function g(){return(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)("div",{className:"hidden md:block w-[240px] h-screen bg-white border-r flex-shrink-0",children:(0,s.jsx)(r.SidebarComponent,{})}),(0,s.jsx)("div",{className:"flex-1 min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)(h,{}),children:(0,s.jsx)(m,{})})})})]})}e.s(["default",()=>g],88475)}]);