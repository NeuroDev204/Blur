(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40141,e=>{"use strict";var r=e.i(71645),t={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.default.createContext&&r.default.createContext(t),o=["attr","size","title"];function l(){return(l=Object.assign.bind()).apply(this,arguments)}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){var s,o,l;s=e,o=r,l=t[r],(o=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(o))in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function i(e){return t=>r.default.createElement(c,l({attr:a({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.default.createElement(t.tag,a({key:s},t.attr),e(t.child)))}(e.child))}function c(e){var n=t=>{var s,{attr:n,size:i,title:c}=e,d=function(e,r){if(null==e)return{};var t,s,o=function(e,r){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)t=l[s],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,o),u=i||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.default.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:s,style:a(a({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&r.default.createElement("title",null,c),e.children)};return void 0!==s?r.default.createElement(s.Consumer,null,e=>n(e)):n(t)}e.s(["GenIcon",()=>i],40141)},90454,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),o=e.i(42094),l=e.i(57339),n=e.i(9505),a=e.i(55436),i=e.i(37727),c=e.i(5766);function d(){let[e,d]=(0,t.useState)(""),[u,m]=(0,t.useState)([]),[h,f]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),y=(0,s.useRouter)();(0,t.useEffect)(()=>{(0,o.isAuthenticated)()||y.push("/login")},[y]),(0,t.useEffect)(()=>{let e=()=>{b(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{if(!(0,o.getToken)()||!e.trim())return void m([]);let r=setTimeout(async()=>{f(!0);try{let r=await (0,n.searchUsersByUserName)(e);m(r||[])}catch(e){console.error("Search error:",e)}finally{f(!1)}},300);return()=>clearTimeout(r)},[e]);let w=async e=>{try{await (0,n.followUser)(e),c.default.success("Followed successfully"),m(r=>r.map(r=>r.userId===e?{...r,isFollowing:!0}:r))}catch(e){console.error("Follow error:",e),c.default.error("Could not follow user")}},v=async e=>{try{await (0,n.unfollowUser)(e),c.default.success("Unfollowed"),m(r=>r.map(r=>r.userId===e?{...r,isFollowing:!1}:r))}catch(e){console.error("Unfollow error:",e),c.default.error("Could not unfollow user")}},j=e=>{y.push(`/user/${e}`)};return(0,r.jsxs)("div",{className:"flex min-h-screen",children:[x&&(0,r.jsx)("button",{onClick:()=>g(!p),className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md border md:hidden","aria-label":"Toggle menu",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x&&p&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>g(!1)}),(0,r.jsx)("div",{className:"hidden md:block w-[240px] h-screen bg-white border-r flex-shrink-0",children:(0,r.jsx)(l.SidebarComponent,{})}),(0,r.jsx)("div",{className:`
                    md:hidden fixed top-0 left-0 w-64 h-screen bg-white border-r z-50
                    transition-transform duration-300 ease-in-out
                    ${p?"translate-x-0":"-translate-x-full"}
                `,children:(0,r.jsx)(l.SidebarComponent,{})}),(0,r.jsx)("div",{className:`flex-1 min-h-screen w-full max-w-full overflow-x-hidden ${x?"pt-16 px-4":"pl-3"}`,children:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Search"}),(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsx)(a.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search users...",value:e,onChange:e=>d(e.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all bg-white text-gray-800"}),e&&(0,r.jsx)("button",{onClick:()=>d(""),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,r.jsx)(i.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,r.jsx)("div",{className:"space-y-2",children:h?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Searching..."}):e&&u.length>0?u.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 flex items-center gap-4 hover:shadow-md transition-shadow",children:[(0,r.jsx)("img",{src:e.imageUrl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:"Avatar",className:"w-14 h-14 rounded-full object-cover cursor-pointer",onClick:()=>j(e.userId||e.id||"")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-800 cursor-pointer hover:text-sky-600 transition-colors",onClick:()=>j(e.userId||e.id||""),children:[e.firstName," ",e.lastName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["@",e.username]})]}),(0,r.jsx)("button",{onClick:()=>e.isFollowing?v(e.userId||e.id||""):w(e.userId||e.id||""),className:`px-4 py-2 rounded-lg font-medium transition-all ${e.isFollowing?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gradient-to-r from-sky-500 to-blue-500 text-white hover:from-sky-600 hover:to-blue-600"}`,children:e.isFollowing?"Following":"Follow"})]},e.id||e.userId)):e?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-sky-100 to-blue-100 flex items-center justify-center",children:(0,r.jsx)(a.Search,{className:"w-12 h-12 text-sky-400"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No results found"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Try a different search term"})]}):(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-sky-100 to-blue-100 flex items-center justify-center",children:(0,r.jsx)(a.Search,{className:"w-12 h-12 text-sky-400"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Find people"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Search for friends by username or name"})]})})]})})})]})}e.s(["default",()=>d])}]);