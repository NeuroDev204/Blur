(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49485,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(18566),r=e.i(14),o=e.i(42094),a=e.i(81949),n=e.i(5766);function i(){let[e,i]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),u=(0,l.useRouter)(),x=(0,l.useSearchParams)();return(0,s.useEffect)(()=>{(async()=>{let e=x.get("code");if(!e){d("No authorization code received"),i(!1);return}try{let t=await a.default.post(`${r.API_BASE_URL}/identity/auth/outbound/authentication?code=${e}`);if(t.data?.code===1e3&&t.data?.result?.token)(0,o.setToken)(t.data.result.token),n.default.success("Login successful!"),u.push("/");else throw Error(t.data?.message||"Authentication failed")}catch(e){console.error("Authentication error:",e),d(e.response?.data?.message||e.message||"Authentication failed"),n.default.error("Could not complete Google login")}finally{i(!1)}})()},[x,u]),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 text-center",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-br from-sky-100 to-blue-100 flex items-center justify-center",children:(0,t.jsxs)("svg",{className:"w-8 h-8 text-sky-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Authenticating..."}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Please wait while we complete your login"})]}):c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-100 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Authentication Failed"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:c}),(0,t.jsx)("button",{onClick:()=>u.push("/login"),className:"px-6 py-3 bg-gradient-to-r from-sky-500 to-blue-600 text-white rounded-lg font-semibold hover:from-sky-600 hover:to-blue-700 transition-all",children:"Back to Login"})]}):null})}function c(){return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-br from-sky-100 to-blue-100 flex items-center justify-center",children:(0,t.jsxs)("svg",{className:"w-8 h-8 text-sky-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Loading..."})]})}function d(){return(0,t.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-r from-[#0062E6] to-[#33AEFF]",children:(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)(c,{}),children:(0,t.jsx)(i,{})})})}e.s(["default",()=>d])}]);