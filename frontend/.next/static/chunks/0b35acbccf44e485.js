(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40141,e=>{"use strict";var r=e.i(71645),t={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.default.createContext&&r.default.createContext(t),a=["attr","size","title"];function l(){return(l=Object.assign.bind()).apply(this,arguments)}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){var s,a,l;s=e,a=r,l=t[r],(a=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function i(e){return t=>r.default.createElement(c,l({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.default.createElement(t.tag,o({key:s},t.attr),e(t.child)))}(e.child))}function c(e){var n=t=>{var s,{attr:n,size:i,title:c}=e,d=function(e,r){if(null==e)return{};var t,s,a=function(e,r){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)t=l[s],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,a),u=i||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.default.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&r.default.createElement("title",null,c),e.children)};return void 0!==s?r.default.createElement(s.Consumer,null,e=>n(e)):n(t)}e.s(["GenIcon",()=>i],40141)},87270,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),a=e.i(42094),l=e.i(57339),n=e.i(9505),o=e.i(75254);let i=(0,o.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),c=(0,o.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var d=e.i(5766);function u(){let[e,o]=(0,t.useState)(null),[u,m]=(0,t.useState)({firstName:"",lastName:"",bio:"",imageUrl:""}),[f,x]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!1),[g,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1),v=(0,s.useRouter)();(0,t.useEffect)(()=>{(0,a.isAuthenticated)()||v.push("/login")},[v]),(0,t.useEffect)(()=>{let e=()=>{b(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{(0,a.getToken)()&&(async()=>{try{x(!0);let e=await (0,n.fetchUserInfo)();o(e),m({firstName:e.firstName||"",lastName:e.lastName||"",bio:e.bio||"",imageUrl:e.imageUrl||""})}catch(e){console.error("Error fetching user:",e),d.default.error("Could not load profile")}finally{x(!1)}})()},[]);let N=e=>{let{name:r,value:t}=e.target;m(e=>({...e,[r]:t}))},w=async()=>{if(e?.id){p(!0);try{await (0,n.updateUserProfile)(e.id,u),d.default.success("Profile updated successfully"),v.push("/profile")}catch(e){console.error("Error updating profile:",e),d.default.error("Could not update profile")}finally{p(!1)}}};return(0,r.jsxs)("div",{className:"flex min-h-screen",children:[g&&(0,r.jsx)("button",{onClick:()=>j(!y),className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md border md:hidden","aria-label":"Toggle menu",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),g&&y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>j(!1)}),(0,r.jsx)("div",{className:"hidden md:block w-[240px] h-screen bg-white border-r flex-shrink-0",children:(0,r.jsx)(l.SidebarComponent,{})}),(0,r.jsx)("div",{className:`
                    md:hidden fixed top-0 left-0 w-64 h-screen bg-white border-r z-50
                    transition-transform duration-300 ease-in-out
                    ${y?"translate-x-0":"-translate-x-full"}
                `,children:(0,r.jsx)(l.SidebarComponent,{})}),(0,r.jsx)("div",{className:`flex-1 min-h-screen w-full max-w-full overflow-x-hidden ${g?"pt-16 px-4":"pl-3"}`,children:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,r.jsx)("button",{onClick:()=>v.back(),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,r.jsx)(i,{className:"w-6 h-6 text-gray-600"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Edit Profile"})]}),f?(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 animate-pulse",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"w-32 h-32 bg-gray-200 rounded-full"}),(0,r.jsxs)("div",{className:"w-full space-y-4 mt-6",children:[(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded-lg"}),(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded-lg"}),(0,r.jsx)("div",{className:"h-24 bg-gray-200 rounded-lg"})]})]})}):(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("img",{src:u.imageUrl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:(0,r.jsx)(c,{className:"w-8 h-8 text-white"})})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"Click to change photo"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,r.jsx)("input",{type:"text",name:"firstName",value:u.firstName,onChange:N,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,r.jsx)("input",{type:"text",name:"lastName",value:u.lastName,onChange:N,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),(0,r.jsx)("input",{type:"text",name:"imageUrl",value:u.imageUrl,onChange:N,placeholder:"https://example.com/your-image.jpg",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,r.jsx)("textarea",{name:"bio",value:u.bio,onChange:N,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent resize-none"})]}),e&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Username:"})," @",e.username]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Email:"})," ",e.email]})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,r.jsx)("button",{onClick:()=>v.back(),className:"flex-1 py-3 px-6 border border-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:w,disabled:h,className:"flex-1 py-3 px-6 bg-gradient-to-r from-sky-500 to-blue-600 text-white rounded-xl font-semibold hover:from-sky-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})]})})})]})}e.s(["default",()=>u],87270)}]);